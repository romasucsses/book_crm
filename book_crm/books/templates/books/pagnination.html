{% if page_obj.has_other_pages %}
<div class="pages">
    <nav>
        <ul>
            {% if page_obj.has_previous %}
                <li class="other-pages">
                    <a href="?page={{ page_obj.previous_page_number }}">&lt&lt</a>
                </li>
            {% endif %}
            {% for pag in page_obj.paginator.page_range %}
                {% if page_obj.number == pag %}
                    <li class="current-page">
                        <a href="?page={{ pag }}">{{ pag }}</a>
                    </li>
                {% elif pag >= page_obj.number|add:-2 and pag <= page_obj.number|add:2 %}
                    <li class="other-pages">
                        <a href="?page={{ pag }}">{{ pag }}</a>
                    </li>
                {% endif %}
            {% endfor %}
            {% if page_obj.has_next %}
                <li class="other-pages">
                    <a href="?page={{ page_obj.next_page_number }}">&gt&gt</a>
                </li>
            {% endif %}
        </ul>
    </nav>
</div>
{% endif %}